---
title: "Howto use the `MsBackendRawFileReader`?"
author:
- name: Christian Panse
  affiliation: Functional Genomics Center Zurich
  email: cp@fgcz.ethz.ch
- name: Tobias Kockmann
  affiliation: Functional Genomics Center Zurich
  email: tobias.Kockmann@fgcz.ethz.ch
package: MsBackendRawFileReader
output:
  BiocStyle::html_document
abstract: |
  `r BiocStyle::Githubpkg("fgcz/MsBackendRawFileReader")` implements an
  MsBackend for the `r BiocStyle::Biocpkg("Spectra")` package using
  Thermo Fisher Scientific's NewRawFileReader .Net libraries.
  The package is generalizing the functionallity provided by the
  `r BiocStyle::Biocpkg("rawrr")`.
vignette: |
  %\VignetteIndexEntry{Howto use the package?}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
bibliography:
  - MsBackendRawFileReader.bib
---

# Usage

```{r require}
stopifnot(require(Spectra), require(MsBackendRawFileReader), require(BiocParallel))
```


```{r tartareEH4547, warning=FALSE, message=FALSE, eval=TRUE}
# fetch via ExperimentHub
library(ExperimentHub)
eh <- ExperimentHub::ExperimentHub()
```

```{r tartare}
query(eh, c('tartare'))
```

```{r EH3220}
EH3220 <- normalizePath(eh[["EH3220"]])
(rawfileEH3220 <- paste0(EH3220, ".raw"))
if (!file.exists(rawfileEH3220)){
  file.link(EH3220, rawfileEH3220)
}

EH3222 <- normalizePath(eh[["EH3222"]])
(rawfileEH3222 <- paste0(EH3222, ".raw"))
if (!file.exists(rawfileEH3222)){
  file.link(EH3222, rawfileEH3222)
}
```

```{r EH3219}
EH3219 <- normalizePath(eh[["EH3219"]])
EH3221 <- normalizePath(eh[["EH3221"]])
```

```{r librarySnippet, message=FALSE}
flsRaw <- c(rawfileEH3220, rawfileEH3222)
# flsmzXML <- c(EH3219, EH3221)
beRaw <- Spectra::backendInitialize(MsBackendRawFileReader::MsBackendRawFileReader(), files = flsRaw, extra=TRUE)
# beMzR <- Spectra::backendInitialize(Spectra::MsBackendMzR(), files = flsmzXML, extra=TRUE)
```


```{r fig.retina=2} 
beRaw[1000:1001] |> plotSpectra()
```
# Session information

```{r si}
sessionInfo()
```

# References